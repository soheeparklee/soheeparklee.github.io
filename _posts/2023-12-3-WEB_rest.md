---
title: SOAP, REST
categories: [Computer Science, WEB]
tags: [backend, requestbody, fastapi, path, query, api] # TAG names should always be lowercase
---

## âœ… **SOA**

> Service Oriented Architecture

- ì„œë¹„ìŠ¤ ì§€í–¥ Architecture
- ì—…ë¬´ìƒì˜ ì¼ ğŸŸ° ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ëŠ¥ ğŸŸ° ì„œë¹„ìŠ¤
- ì„œë¹„ìŠ¤ë¥¼ ë„¤íŠ¸ì›Œí¬ ìƒì— ì—°ë™, ì‹œìŠ¤í…œ êµ¬ì¶•

## âœ… **SOAP**

> Simple Object Access Protocol <br>
> exchange structured information over the internet <br>
> standard way for applications to communicated each other, regradless of programming language or platform <br>
> protocol to exchange `XML messages` using HTTP, HTTPS, SMTP... <br>

- ğŸ’¡ protocol: follow _strict_ standard for communication between client and server
- ğŸ’¡ presentaion: all datas are presented in `XML`
- ğŸ’¡ language: `WSDL` for communication between consumer and provider
- ğŸ’¡ saved on UDDI

### â˜‘ï¸ WSDL

> Web Services Description Language

- XML based definition language
- describe web service and their operations, inputs, outputs

- details of web service
- help developers understand how to interact with web service
- where service is provided
- service message format
- protocol

### â˜‘ï¸ UDDI

> Universal Description, Discoverey and Integration

- registry standard for web services
- registry for saving, searching web service
- allow business to publish, discover services over the internet

### â˜‘ï¸ ACID

> Atomicity, Consistency, Isolation, and Durability

- SOAP accepts transaction ability

### â˜‘ï¸ SOAP message

- XML format
- SOAP envelop â• SOAP header â• SOAP body
- ğŸ‘ğŸ» complex SOAP message
- ğŸ‘ğŸ» heavy to be transmitted on HTTP

```xml
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <HelloWorld xmlns="http://example.com/">
      <name>John Doe</name>
    </HelloWorld>
  </soap:Body>
</soap:Envelope>
```

### â˜‘ï¸ SOAP syntax rules

- SOAP message MUST be encoded using XML
- SOAP message MUST use SOAP envelope namespace
- SOAP message MUST NOT contain DTD reference
- SOAP message MUST NOT contain XML Processing Instructions

### ğŸ‘ğŸ» Benefits of SOAP

- ğŸ‘ğŸ» more secure(bank): has SSL and WS security
- ğŸ‘ğŸ» transaction
- ğŸ‘ğŸ» ACID
- ğŸ‘ğŸ» SOA

### ğŸ‘ğŸ» Disadvantages of SOAP

- ğŸ‘ğŸ» complex message encoding, decoding
- ğŸ‘ğŸ» more difficult to develop
- ğŸ‘ğŸ» more formats to follow than REST
- ğŸ‘ğŸ» more overhead

## âœ… **ROA**

> Resource Oriented Architecture <br>

- ìì› ì§€í–¥ Architecture
- style of software architecture prioritizing resource
- ì„¤ê³„ ì¤‘ì‹¬: ìì›

## âœ… **REST**

<img width="593" alt="image" src="https://github.com/user-attachments/assets/3e2ec9c5-466e-4b50-9b46-4b67a12bd691">

> Representational State Transfer <br>
> ìì›ì˜ **í‘œí˜„**ì„ ê°€ì§€ê³  **ìƒíƒœ**ë¥¼ ì „ë‹¬í•œë‹¤. <br>

- type of architectural structure used to create APIs <br>
- ì›¹ ì„œë¹„ìŠ¤ ê°„ì˜ í†µì‹ ì„ ìœ„í•œ êµ¬ì¡°ì  ì¡”ì•½ ì¡°ê±´<br>

- ğŸ’¡ architecture: doesnt follow strict standard like SOAP, but follow six constraints
- ğŸ’¡ presentation: HTTP URI
- ğŸ’¡ ìƒíƒœ: HTTP Status code
- ğŸ’¡ ì „ë‹¬: HTTP Method

- REST: present resource in `HTTP URI`, communicate `HTTP Status` code with `HTTP method`
- RESTful í•œ API: API that implements REST architecture style

## ğŸ“Œ **REST API**

> Representational State Transfer API

- **HTTPí”„ë¡œí† ì½œ**ë¡œ ì œê³µ
- ë”°ë¼ì„œ í•µì‹¬ ì»¨í…ì¸  ë° ê¸°ëŠ¥ì„ ì™¸ë¶€ ì‚¬ì´íŠ¸(í•¸ë“œí°, ì›¹, í¬ë¡¬, ì‚¬íŒŒë¦¬ ë“±)ì—ì„œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì œê³µë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ <br>
- REST APIs: used for building web services to communicate over the internet <br>

API ì‘ë™ ë°©ì‹ì— ëŒ€í•œ ì¡°ê±´ì„ ë¶€ê³¼í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ <br>
ì›¹ ìƒì—ì„œ ìì›ì„ í‘œí˜„í•˜ê³  ìƒí˜¸ì‘ìš©í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ ì›ì¹™ <br>
ë”± ë´ë„ "ì•„ ì´ëŸ° ì‘ì—…ì„ í•˜ëŠ” APIêµ¬ë‚˜!" ì•Œ ìˆ˜ ìˆê²Œ APIë¥¼ ì§œì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ <br>
REST APIëŠ” HTTP ìš”ì²­ì„ í†µí•´ í†µì‹ í•¨ìœ¼ë¡œì¨ <br>
ë¦¬ì†ŒìŠ¤ ë‚´ì—ì„œ ë ˆì½”ë“œ(**CRUD** ë¼ê³ ë„ í•¨)ì˜ ì‘ì„±, ì½ê¸°,ì—…ë°ì´íŠ¸ ë° ì‚­ì œ ë“±ì˜ <br>
í‘œì¤€ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ëŠ¥ì„ ìˆ˜í–‰ <br>

### âœ”ï¸ Resource in Restful API

> What is resource in Restful API? <br>

- Object with data
- valuable data unit in network

### ğŸ‘ğŸ» Benefits of Rest API

- ğŸ‘ğŸ» Simple, easier to implement
- ğŸ‘ğŸ» Flexible to communicate with different platforms and languages

## ğŸ“Œ Rest Architecture 6 conditions

- client-server
- stateless
- cache
- layered system ê³„ì¸µí™”
- uniform interface ì¸í„°í˜ì´ìŠ¤ ì¼ê´€ì„±
- code-on-demand(optinal)

âœ”ï¸ **client-server decoupling** <br>

- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ë¶„ë¦¬ ë”°ë¼ì„œ ê°ê°ì˜ ì—­í•  ëª…í™• <br>
- ğŸ‘ğŸ» ê°ê° ë…ë¦½, ì„œë¡œ ì˜ì¡´ì„± â¬‡ï¸
- ğŸ‘ğŸ» ìœ ì—°í•œ ì‹œìŠ¤í…œ êµ¬ì¶•
- ğŸ‘ğŸ» ê° í•„ë“œì—ì„œ ê°œë°œí•´ì•¼ í•  ì  ëª…í™•

  - **í´ë¼ì´ì–¸íŠ¸**:
  - request
  - manage resource context(state, session, login information)
  - ìš”ì²­ëœ ë¦¬ì†ŒìŠ¤ì˜ URI

  - **ì„œë²„**:
  - respond
  - provide API
  - HTTPë¥¼ í†µí•´ ìš”ì²­ëœ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬

âœ”ï¸ **stateless** <br>

- each request is independent <br>

- HTTP is stateless, thus REST is also stateless
- server does not rememeber resource context(state) of previous resource
- server processes all requests individually <br>
- ğŸ‘ğŸ» server does not have to pay attention to resourse context(session management)

âœ”ï¸ **cacheable(ìºì‹œ ê°€ëŠ¥)** <br>

- REST uses HTTP, can use HTTP cache
- ìºì‹œ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ì‘ë‹µ ê²°ê³¼ë¥¼ ì €ì¥í•´ë‘ê³  ì¬ì‚¬ìš©
- temporarily store data from server, respond to repeated requests for same data
- ğŸ‘ğŸ» ì„œë²„ ë¶€í•˜ â¬‡ï¸ <br>
- ğŸ‘ğŸ» ì‘ë‹µ ì†ë„ â¬†ï¸ ì„±ëŠ¥ í–¥ìƒ <br>

âœ”ï¸ **layered System(ê²Œì¸µí™” êµ¬ì¡°)** <br>

<img width="562" alt="Screenshot 2024-08-28 at 17 09 24" src="https://github.com/user-attachments/assets/57c38681-7bfb-4253-9ff6-193e40906b39">

- ì—¬ëŸ¬ ê³„ì¸µìœ¼ë¡œ êµ¬ì„± ê°€ëŠ¥ <br>
- each layer carries specific responsibility, functionality <br>
- ğŸ‘ğŸ» flexibility such as security, load balancing, encryption
- ğŸ‘ğŸ» intermediary such as gateway, proxy

âœ”ï¸ **Uniform Interface** <br>

- REST has certain standard, restrictions when communicating

- 1. URI: Each resource should be identified with `URI(Uniform Resource Identifier)`

- 2. Representation: Clients must have specific format to represent information recieved
     (JSON, XML)

- 3. `self-descriptive message`: message should be able to explain itself

- 4. `HATEOAS`: Hypertet As The Engine Of Application State
  - use _links_ to direct the state of represented resources
  - application status should be transmitted through Hyperlink
  - can use service without relying extensively on external documentation

âœ”ï¸ **method(í‘œì¤€í™”ëœ ë©”ì†Œë“œ)** <br>
ì¼ë°˜ì ìœ¼ë¡œ HTTP ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ìì›ì— ëŒ€í•œ ì¡°ì‘ì„ ìˆ˜í–‰ <br>
ì‚¬ìš©ë˜ëŠ” ë©”ì†Œë“œë¡œëŠ” GET, POST, PUT, DELETE ë“± <br>

âœ”ï¸ **code-on-demand**(optinal)

- code server sends a code to client
- client recieves code and runs
- ğŸ‘ğŸ» allow client to start with lighter application and if needed, expand capabilities
- ğŸ‘ğŸ» reduces visibility

#### â˜‘ï¸ ì§€í‚¤ê¸° ì–´ë ¤ìš´ uniform interface

- ë¦¬ì†ŒìŠ¤ê°€ URIë¡œ ì‹ë³„ë˜ì–´ì•¼ í•œë‹¤.
- ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ìˆ˜ì •, ì¶”ê°€í•˜ê³ ì í•  ë•Œ HTTPì— í‘œí˜„ì„ í•´ì„œ ì „ì†¡í•´ì•¼ í•œë‹¤.
- ì´ ë‘ê°€ì§€ê°€ ì ìš©ì´ ì–´ë ¤ì›€
  - ë©”ì„¸ì§€ëŠ” ìŠ¤ìŠ¤ë¡œë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. `self-descriptive message`
  - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœëŠ” hyperlinkë¥¼ í†µí•´ ì „ì†¡ë˜ì–´ì•¼ í•œë‹¤. `HATEOAS`

ì—¬ê¸°ì„œ `self-descriptive message` ë¶€ë¶„ê³¼ `HATEOAS`ëŠ” APIë¡œ êµ¬í˜„í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤. <br>
ê·¸ë˜ì„œ WEB API ë˜ëŠ” HTTP APIë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. <br>
ğŸ’¡ **ê·¸ë˜ì„œ Restë¼ê³  í•˜ë©´ì„œ Restì˜ ëª¨ë“  ê²ƒì„ ì§€í‚¤ì§€ ì•Šê±°ë‚˜,** <br>
**WEB API ë˜ëŠ” HTTP APIë¥¼ Restë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.** <br>

<img width="442" alt="Screenshot 2024-08-03 at 10 40 49" src="https://github.com/user-attachments/assets/ce17eee4-75dc-4a19-8a05-030eed9d166e">

## ğŸ“Œ WEB API

- RESTì˜ ì •í™•í•œ ì •ì˜ëŒ€ë¡œ APIë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì‰½ì§€ ì•Šê¸°ì— WEB APIë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.

- URIëŠ” ì •ë³´ì˜ ìì›ì„ í‘œí˜„í•´ì•¼ í•œë‹¤.
- ìì›ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP Methodë¡œ í‘œí˜„í•œë‹¤.

#### â˜‘ï¸ â­•ï¸âŒ ë¬¸ì œ

| HTTP Method           | â­•ï¸âŒ                      |
| --------------------- | -------------------------- |
| GET /members/1        | â­•ï¸                        |
| GET /members/get/1    | âŒ ë™ì‚¬ë¡œ í‘œí˜„í•˜ë©´ ì•ˆëœë‹¤. |
| GET /members/add      | âŒ                         |
| POST /members         | â­•ï¸                        |
| GET /members/update/1 | âŒ                         |
| PUT /members/1        | â­•ï¸                        |
| GET /members/del/1    | âŒ                         |
| DELETE /members/1     | â­•ï¸                        |

#### â˜‘ï¸ ê·¸ ì™¸ ê·œì¹™

- ìŠ¬ë˜ì‹œ `/`ëŠ” ê³„ì¸µì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©
- URIëŠ” ë§ˆì§€ë§‰ ë¬¸ìë¡œ `/`ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í•˜ì´í”ˆ`-`ì€ ê°€ë…ì„±ì„ ë†’ì¼ ë•Œ ì‚¬ìš©í•œë‹¤.
- ì–¸ë”ë°”`_`ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- URI ê²½ë¡œë¡œëŠ” ì†Œë¬¸ìë§Œ ì‚¬ìš©í•œë‹¤.

## ğŸ“Œ Richardson Maturity Model

> framework to evaluate maturity of web server adherence to RESTful principles <br>
> how much the web service is REST compliant <br>

### â˜‘ï¸ **Three main factors** to decide maturity

- URI
- HTTP Methods
- HATEOAS

- more factors â¬†ï¸ higher maturity level â¬†ï¸

### â˜‘ï¸ Maturity Level

<img width="338" alt="Screenshot 2024-08-28 at 17 20 21" src="https://github.com/user-attachments/assets/22c6fdd7-c7ce-43cc-96d7-31fa02b25903">

âœ”ï¸ **Level 0: single URI and single Verb**

- the swamp of POX
- does not make use any URI, HTTP Methods, HATEOAS
- use single HTTP verb `POST`
- only one endpoint
- use HTTP as tunneling mechanism
- use `POX(Plain Old XML)` to request, response
- `RPC(Remote Procedure Call)` style

âœ”ï¸ **Level 1: multiple URIs and single Verb**

- make use of URIs, but does not use HTTP Mehods, neither HATEOAS
- multiple URIs to represent resrouce
- use single HTTP verb `POST`
- use HTTP as tunneling mechanism

- ğŸ‘ğŸ» use `divide and conquer` and deal with complexity

âœ”ï¸ **Level 2: multiple URIs and multiple Verbs**

- use multiple HTTP verbs(`CRUD`)
- use HTTP status code
- use HTTP as tunneling mechanism

- ğŸ‘ğŸ» ë©”ì†Œë“œì˜ í‘œì¤€ ì§‘í•© ë„ì…

âœ”ï¸ **Level 3: HATEOAS**

- fully use URIs, HTTP Methods, HATEOAS
- HATEOAS: server can change URI scheme, irrelevant to client

- ğŸ‘ğŸ» í”„ë¡œí† ì½œì´ ìŠ¤ìŠ¤ë¡œ ë¬¸ì„œí™”í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì œê³µ
- ğŸ‘ğŸ» ë°œê²¬ê°€ëŠ¥ì„± discoverability

## SOAP ğŸ†š REST

<img width="622" alt="Screenshot 2024-08-28 at 13 39 50" src="https://github.com/user-attachments/assets/d52e09aa-c141-43cd-8d9a-9cd3d4eecd04">

- ê³µí†µì : two different ways to connect `applications` with `server-side data`

- REST can use SOAP, whereas SOAP cannot use REST

## âœ… MashUp

> ì„œë¹„ìŠ¤ ì—…ì²´ë“¤ì´ ë‹¤ì–‘í•œ RestAPIë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨, ì´ëŸ¬í•œ RestAPIë¥¼ ì¡°í•©í•´ ë§Œë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ <br>
