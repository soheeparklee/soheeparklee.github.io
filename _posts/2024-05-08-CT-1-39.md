---
title: Stack_í›„ìœ„ì‹ ì—°ì‚°(postfix)
categories: [Coding Test, Java ì•Œê³ ë¦¬ì¦˜ ì…ë¬¸]
tags: [plus, minus, postfix]
---

## âœ… í›„ìœ„ì—°ì‚°ì‹ì´ ì£¼ì–´ì§€ë©´ ì—°ì‚°í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ì„¸ìš”

### ğŸ’¡ í›„ìœ„ì—°ì‚°ì‹

ìˆ«ìë¥¼ ì•ì— ì“°ê³  ì—°ì‚°ìë¥¼ ë’¤ì— ì“°ëŠ” ë°©ì‹ <br>
`3*(5+2)-9` ì„ í›„ìœ„ì—°ì‚°ì‹ìœ¼ë¡œ í‘œí˜„í•˜ë©´ `352+*9-` <br>

```java
class Main {

    public int solution(String input){
        int answer=0;
        Stack<Integer> stack= new Stack<>();
        for(char x: input.toCharArray()){
            if(Character.isDigit(x)){ //check if char is number
                stack.push(x-48); //change char to int
            }else{
                int a= stack.pop();
                int b= stack.pop();
                if(x== '+'){
                    stack.push(b+a);
                }else if(x=='-'){
                    stack.push(b-a);
                }else if(x=='*'){
                    stack.push(b*a);
                }else if(x=='/'){
                    stack.push(b/a);
                }
            }
        }
        answer= stack.get(0); //í•˜ë‚˜ë‚¨ì€ ìˆ«ì answerì— ì¶”ê°€
        return answer;
    }
    public static void main(String[] args) {
        Main T = new Main();
        Scanner sc= new Scanner(System.in);
        String input= sc.next();
        System.out.print(T.solution(input));

    }
}
//â­ï¸input:
//352+*9-
//â­ï¸output:
//12
```

## ğŸ”µ ThingsILearned

### âœ”ï¸ How to check if `char` is number

```java
Character.isDigit(char);
```

### âœ”ï¸ How to change `char` to `int`

```java
//ë°©ë²• 1
int charInt= Character.getNumericValue(char);

//ë°©ë²• 2
//0ì´ asciië¡œ ì¹˜ë©´ 48
int charInt= char - 48;
```

## ğŸŸ¢

```java
class Main {

    public int solution(String input){
        int answer=0;
        Stack<Integer> stack= new Stack<>();
        for(char x: input.toCharArray()){
            if(Character.isDigit(x)){ //check if char is number
                stack.push(Character.getNumericValue(x)); //char to int
            }else{
                int a= stack.pop();
                int b= stack.pop();
                if(x== '+'){
                    answer= b+a;
                }else if(x=='-'){
                    answer= b-a; //â­ï¸
                }else if(x=='*'){
                    answer= b*a;
                }else if(x=='/'){
                    answer= b/a; //â­ï¸
                }
                stack.push(answer);
            }
        }
        return answer;
    }
    public static void main(String[] args) {
        Main T = new Main();
        Scanner sc= new Scanner(System.in);
        String input= sc.next();
        System.out.print(T.solution(input));

    }
}
```

1. ìˆ«ìëŠ” stackì— ì¶”ê°€í•œë‹¤. <br>
2. ì—°ì‚°ìë¥¼ ë§Œë‚˜ë©´ stack ê°€ì¥ ìœ„ì— ìˆëŠ” ìˆ«ì ë‘ ê°œë¥¼ `pop`í•´ì„œ ì—°ì‚°í•œë‹¤. <br>
3. â­ï¸ ì´ ë•Œ ê°€ì¥ ìœ„ì— ìˆëŠ” ìˆ«ìê°€ ë‘ ë²ˆì§¸ ìˆ«ìê°€ ë˜ê³ , ê·¸ ë‹¤ìŒ ìˆëŠ” ìˆ«ìê°€ ì²« ë²ˆì¨° ìˆ«ìê°€ ë˜ì–´ì•¼ í•œë‹¤. <br>
4. ê·¸ ê²°ê³¼ë¥¼ ë˜ stackì— ì¶”ê°€í•œë‹¤. <br>

## ğŸŸ¢ ì¤‘ìœ„í‘œê¸°ì‹ â¡ï¸ í›„ìœ„í‘œê¸°ì‹(ê´„í˜¸ ì—†ìŒ)

### ğŸ’¡ ì°¨ëŸ‰ê¸°ì§€ ì•Œê³ ë¦¬ì¦˜

<img width="601" alt="Screenshot 2024-05-11 at 23 22 35" src="https://github.com/soheeparklee/portfolioWebsite_dreamcoding/assets/97790983/640f90dd-c617-45a9-85f5-12195c8466f4">

ì—°ì‚°ìê°€ ë‚˜ì˜¤ë©´ stackì— ì¶”ê°€í•˜ëŠ”ë°, <br>
ì§€ê¸ˆ ë„£ìœ¼ë ¤ëŠ” ì—°ì‚°ìê°€ ê¸°ì¡´ì— ìˆëŠ” ì—°ì‚°ìë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë‚®ìœ¼ë©´, <br>
stackì— ìˆëŠ” ëª¨ë“  ì—°ì‚°ìë“¤ì„ answerì— ì¶”ê°€í•˜ê³  stackì€ pop. <br>
ê·¸ë¦¬ê³  ì§€ê¸ˆ ë„£ìœ¼ë ¤ëŠ” ì—°ì‚°ìëŠ” stackì— ì¶”ê°€. <br>
<br>

`1+2*3` â¡ï¸ `123*+` <br>
`1*2+3` â¡ï¸ `12*3+` <br>
`1+2*3+4/5` â¡ï¸ `123*+45/+` <br>

```java
class Main {

    public String solution(String input){
        String answer="";
        Stack<Character> stack= new Stack<>();
        for(char x: input.toCharArray()){
            if(Character.isDigit(x)){
                answer +=x;
            }else{
                if(stack.isEmpty()){
                    stack.push(x);
                }else{
                    char peek= stack.peek();
                    if(x== '+' || x=='-'){
                        if(peek== '+' || peek=='-'){
                            stack.push(x);
                        }else if(peek=='*' || peek=='/'){
                            while(!stack.isEmpty()) answer +=stack.pop();
                            stack.push(x);
                        }
                    }else if(x=='*' || x=='/'){
                        if(peek== '+' || peek=='-'){
                            stack.push(x); //
                        }else if(peek=='*' || peek=='/'){
                            stack.push(x);
                        }
                    }
                }
            }
        }
        for(int i=stack.size()-1; i>=0; i--){
            answer += stack.get(i);
        }
        return answer;
    }
    public static void main(String[] args) {
        Main T = new Main();
        Scanner sc= new Scanner(System.in);
        String input= sc.next();
        System.out.print(T.solution(input));

    }
}
```

## ğŸŸ¢ ì¤‘ìœ„í‘œê¸°ì‹ â¡ï¸ í›„ìœ„í‘œê¸°ì‹(**í•¨ìˆ˜ë¡œ**ìš°ì„ ìˆœìœ„ ì •í•´ì„œ, ê´„í˜¸â­•ï¸)

`(3+5*(4-6)/2)` â¡ï¸ `3546-*2/+` <br>

```java
class Main {
    public int priority(char x){
        switch(x){
            case '*' :
            case '/' :
                return 2; //ê³±í•˜ê¸°ì™€ ë‚˜ëˆ„ê¸° ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìŒ
            case '+' :
            case '-' :
                return 1;
            default :
                return 0;
        }
    }

    public String solution(String input){
        String answer="";
        Stack<Character> stack= new Stack<>();
        for(char x: input.toCharArray()) {
            if (Character.isDigit(x)) {
                answer += x;
            } else if(x == '('){
                    stack.push(x);
            } else if(x == ')'){
                while(!stack.isEmpty() && stack.peek() != '('){ //1ï¸âƒ£
                    answer+= stack.pop();
                }
                stack.pop();
            }else{ //ì—°ì‚°ìì¼ ë•Œ
                //stackì— ë„£ìœ¼ë ¤ê³  í•˜ëŠ” ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ê°€
                //stackì•ˆì— ë“¤ì–´ìˆëŠ” ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë³´ë‹¤ ë†’ìœ¼ë©´ ë„£ì„ ìˆ˜ ìˆê³ 
                //ë‚®ìœ¼ë©´ ë‹¤ ë¹¼ê³  ìƒˆë¡œìš´ ì—°ì‚°ìë§Œ ì¶”ê°€
                while(!stack.isEmpty() && priority(stack.peek()) >=priority(x)){ //2ï¸âƒ£
                    answer += stack.pop();
                }
                stack.push(x);
            }
            }
        while(!stack.isEmpty()){
            answer +=stack.pop();
        }
        return answer;
    }
    public static void main(String[] args) {
        Main T = new Main();
        Scanner sc= new Scanner(System.in);
        String input= sc.next();
        System.out.print(T.solution(input));

    }
}
```

## ğŸ”´ TroubleShooting

### 1ï¸âƒ£ stackì—ì„œ `)` ë§Œë‚˜ë©´ `(`ë§Œë‚  ë•Œê¹Œì§€ ë‹¤ `pop`í•˜ìƒˆìš”

1. stackì´ ë¹„ì–´ìˆì§€ ì•Šê³  <br>
2. `stack.peek()`í–ˆì„ ë•Œ `(`ì´ ì•„ë‹ˆë©´<br>
3. `pop`í•´ì„œ ì •ë‹µì—ë‹¤ê°€ ì¶”ê°€í•˜ê³ <br>
4. ë§ˆì§€ë§‰ìœ¼ë¡œ `(`ì„ `pop`í•˜ê¸° ìœ„í•´ì„œ whileë¬¸ ë°–ì—ì„œ `pop`ì„ í•œë²ˆ í•œë‹¤. <br>

### 2ï¸âƒ£ stackì— +ê°€ ìˆì„ ë•Œ *ëŠ” ì¶”ê°€í•  ìˆ˜ ìˆì§€ë§Œ, *ê°€ ìˆëŠ”ë° +ëŠ” ì¶”ê°€í•  ìˆ˜ ì—†ë‹¤.

ê·¸ëŸ¬ë‹ˆê¹Œ ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ì€ ì—°ì‚°ìëŠ” ì¶”ê°€í•  ìˆ˜ ìˆì§€ë§Œ, <br>
ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ ì—°ì‚°ìëŠ” stackì— ìˆëŠ” ëª¨ë“  ì—°ì‚°ìë¥¼ `pop`í•œ í›„ì— ì¶”ê°€<br>

1. ì§€ê¸ˆ ì¶”ê°€í•˜ë ¤ëŠ” ì—°ì‚°ìê°€ `priority(x)`<br>
2. stackì— ìˆëŠ” ì—°ì‚°ì `priority(stack.peek())`<br>
3. ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë‚®ë‹ˆ??<br>
4. ê·¸ëŸ¬ë©´ ì¶”ê°€ ëª»í•´<br>
5. stackì— ìˆëŠ” ëª¨ë“  ì—°ì‚°ìë¥¼ `pop` í•˜ê³  ì¶”ê°€í•˜ë ´ <br>

## ğŸŸ¢ ì¤‘ìœ„í‘œê¸°ì‹ â¡ï¸ í›„ìœ„í‘œê¸°ì‹(**mapìœ¼ë¡œ**ìš°ì„ ìˆœìœ„ ì •í•´ì„œ, ê´„í˜¸â­•ï¸)

```java
class Main {

    public String solution(String input){
        HashMap<Character, Integer> map= new HashMap<>();
        map.put('(', 0);
        map.put('+', 1);
        map.put('-', 1);
        map.put('*', 2); //ê³±í•˜ê¸°ì™€ ë‚˜ëˆ„ê¸° ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìŒ
        map.put('/', 2);

        String answer="";
        Stack<Character> stack= new Stack<>();
        for(char x: input.toCharArray()) {
            if (Character.isDigit(x)) {
                answer += x;
            } else if(x == '('){
                    stack.push(x);
            } else if(x == ')'){
                while(!stack.isEmpty() && stack.peek() != '('){
                    answer+= stack.pop();
                }
                stack.pop();
            }else{ //ì—°ì‚°ìì¼ ë•Œ
                while(!stack.isEmpty() && map.get(stack.peek()) >= map.get(x)){
                    answer += stack.pop();
                }
                stack.push(x);
            }
            }
        while(!stack.isEmpty()){
            answer +=stack.pop();
        }
        return answer;
    }
    public static void main(String[] args) {
        Main T = new Main();
        Scanner sc= new Scanner(System.in);
        String input= sc.next();
        System.out.print(T.solution(input));

    }
}
```
