---
title: Zzikzzik CICD_Permission Denied
categories: [Project, Zzikzzik]
tags: [] # TAG names should always be lowercase
---

## ğŸ”´ Permission Denied(public key, password)

<img width="429" alt="Image" src="https://github.com/user-attachments/assets/8c0cea70-f455-4005-88fa-98696906e7e5" />

## âœ… Reference

- Permission Denied(public key)
- PasswordAuthentication yes, SSH ì¬ì‹œì‘
- <https://overpassion.tistory.com/174>

- Permission Denied(public key, password)
- PermitRootLogin yes
- PasswordAuthentication yes
- UseLogin yes
- rootì˜ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
- SSH ì¬ì‹œì‘
- <https://www.crocus.co.kr/1647>

- SSH Permission denied (publickey,password)
- `cat ~/.ssh/id_rsa.pub > ~/.ssh/authorized_keys`
- `~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys`
- <https://stackoverflow.com/questions/44363537/gitlab-ci-ssh-permission-denied-publickey-password>

## âœ… CICD reference

- <https://velog.io/@qmflf556/%ED%95%9C%EC%9D%B4%EC%9D%8C-%EA%B3%B5%EB%AA%A8%EC%A0%84-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-GitLab-CICD-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%99%84%EC%84%B1%ED%95%98%EA%B8%B0>

- <https://velog.io/@minji1289/Github-Actions%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-SSH-%EC%A0%91%EC%86%8D-%EB%B0%8F-CICD-EC2-%EC%97%B0%EA%B2%B0>

## âœ… Key setting reference

<https://m.blog.naver.com/awspro/221964190924>

#### â˜‘ï¸ open .pem í‚¤ í™•ì¸í•˜ê¸°

- í‚¤ ìˆëŠ” ì¥ì†Œë¡œ ê°€ì„œ cat zzikzzikKey.pem
- ì´ê²Œ ë°”ë¡œ SSH_PRIVATE_KEY

#### â˜‘ï¸ PRIVATE í‚¤ ëª¨ì–‘, ì €ì¥ ìœ„ì¹˜

SSH_PRIVATE_KEY ëŠ”

```
-----BEGIN RSA PRIVATE KEY-----
â€¦
-----END RSA PRIVATE KEY-----
```

ì´ë ‡ê²Œ ìƒê¹€

- repository secret in Project > Settings > Secrets and Variables > Actions ì— ì €ì¥
- Add a new secret with the name `SSH_PRIVATE_KEY` and paste the contents of your `.pem` file or private SSH key

#### â˜‘ï¸ PUBLIC í‚¤ ëª¨ì–‘, ì €ì¥ ìœ„ì¹˜

- ë°˜ë©´ public keyëŠ”
- ssh-rsa AAAAB3... user@example.com
- ì´ë ‡ê²Œ ìƒê¹€

- `GitHub user profile > SSH and GPG Keys`ì— ì €ì¥í•´ì•¼ í•œë‹¤.

public keyë¥¼ authorized_keysì— ì €ì¥

```
cat ~/.ssh/zzikzzik_key.pub >> ~/.ssh/authorized_keys
~/.ssh/authorized_keys
```

<img width="485" alt="Image" src="https://github.com/user-attachments/assets/52ba1607-0da8-4466-b273-8a2eab526789" />

```
ls -l ~/.ssh/authorized_keys
```

authorized_keysë³¼ ê¶Œí•œì´ ec2-userì—ê²Œ ìˆë‹¤ëŠ” ì˜ë¯¸

<img width="528" alt="Image" src="https://github.com/user-attachments/assets/685936b8-6b38-4e46-9294-dd63b6bdfdb3" />

- catí•´ì„œ
- ì•ˆì— public key ì €ì¥ë˜ì–´ ìˆëŠ”ê²ƒ í™•ì¸

<img width="699" alt="Image" src="https://github.com/user-attachments/assets/647cfc57-62c1-4f40-b652-37681d6f6221" />

#### â˜‘ï¸ ê¶Œí•œ ë¶€ì—¬

```
chmod 600 ~/.ssh/zzikzzik_key
chmod 644 ~/.ssh/zzikzzik_key.pub
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
```

#### â˜‘ï¸

#### â˜‘ï¸
