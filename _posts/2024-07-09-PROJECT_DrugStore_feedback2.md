---
title: Final Feedback
categories: [Project, Drug Store Project]
tags: [project, trouble]
---

## ✅ 로그인하다가 1시간 지나면?

또 로그인을 해야해서 튕기는 문제를 해결하기 위해
일정 주기마다
Refresh Token
Access Token 적용하기

## ✅ 1시간 지나면 로그인 페이지로 튕기게 하기

customAuthenticationEntryPoint
`response.sendRedirect("/auth/login")` 이렇게

## ✅ JPA에 대해서 공부해서

최신순/저가순 등으로 sort할 때 어떻게 발전시켰는지

## ✅ 스웨거 꾸미기

리드미 작성할 시간에 스웨거 하세요
유저 권한에 따라 이런 기능 가능하다 보이도록
리드미 API reference는 리드미에 스웨거 링크 딱 달고 끝
대신 트러블 슈팅 등을 쓰기

## ✅ API 추가

1. User buy table 생성
   상품 아이디/ 유저아이디/ 내가 사고 싶은 가격

2. Role table 수정
   역할을 그냥 user/셀러/admin
   셀러는 그냥 user의 역할은 다 가지니 구매도 가능

3. 실시간 채팅 내용은 어디에 저장하지? 내일 피드백 시간에 여쭤보자

## ✅ REST API

path 수정하기
카테코리 검색을 숫자가 아니라 "카테고리"이름으로

## ✅ 실시간 채팅 메세지는 어디에 저장하나?

어떤 데이터냐에 따라 다르다
서버에 저장할지
디비에 저장할지

- 동시에 실시간으로 메세지를 봐야하니까 NOSQL, 몽고, 에어스탁, e메모리
- 그런데 실시간 채팅은 또 1년동안 가지고 있어야 함. 나중에 볼 수 있어야하니까
- 영속성이 있는 데이터 소스가 필요하다 그래서 레디스는 땡.
- 레디스는 쓰고 버리는 데이터만 저장(이메일 인증번호같이)
- 웹소켓으로 메세지를 이벤트 처리

레디스, RDB동시에 데이터 적재
어떤 API인지에 따라 가져가는 방식을 다르게 한다.
그러니까 최신 메세지는 레디스에 저장했다가 빨리 가져와서 볼 수 있게 하는대신 일정 시간 후에 삭제하고
오래된 메세지는 디비에 저장

웹소켓
커넥션이 살아있는지 계속 체크
커넥션이 끊겼을 때 어떻게 처리할지, 기지국이 바뀌면 어떻게 처리할지 고민해볼 것

## ✅ 프론트

로그인 후 다른페이지에 갔다가 로그인 페이지에 가면 또 로그인하라고 창이 뜨는 문제

어떤 다른 프로젝트랑 차별점이 있는지?
기술들을 추가해서
내가 ~게 하려면 어떻게 빠르게 수정했다
