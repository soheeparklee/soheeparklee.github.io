---
title: Behavior_Chain Of Responsibility
categories: [JAVA, GoF]
tags: [] # TAG names should always be lowercase
---

## âœ…

- use the handler chain to handle request

- client will only make request to the `Interface Handler`
- inside the `chain of concrete handlers`, it will handle the request
- ğŸ‘ğŸ» client will not know the logic behind request
- even if logic changes, client does not have to be modified

- ğŸ‘ğŸ» `client(the class that makes the request)` and the `request handler` is decoupled

- the handler will
- 1ï¸âƒ£ handle the request
- 2ï¸âƒ£ pass it to the next handler in the chain

- ğŸ‘ğŸ» difficult to debug, we do not know in which handler the error is occuring

## ğŸ‘€ Chain of Responsibility

[![Screenshot-2026-02-26-at-00-21-44.png](https://i.postimg.cc/Rh3nwG5s/Screenshot-2026-02-26-at-00-21-44.png)](https://postimg.cc/H8gxgwLX)

- abstract class `Request Handler`
- class `PrintRequestHandler`, `LoggingRequestHandler`, `AuthRequestHandler` extends `Request Handler`
- ğŸ™‹ğŸ»â€â™€ï¸ Client: I want my request to be 1ï¸âƒ£ check authentication, if ok 2ï¸âƒ£ then log 3ï¸âƒ£ then print

```java
//step 1. Abstract class Request Handler
public abstract class RequestHandler {
    private RequestHandler nextHandler; //create chain of handlers

    public RequestHandler(RequestHandler nextHandler) {
        this.nextHandler = nextHandler;
    }

    public void handle(Request request){
        if(nextHandler != null){ //if next handler exsits
            nextHandler.handle(request); //call next handler
        }
    }
}

//step 2. create all the concrete handlers
public class AuthRequestHandler extends RequestHandler{
    public AuthRequestHandler(RequestHandler nextHandler) {
        super(nextHandler);
    }

    @Override
    public void handle(Request request) {
        System.out.println("Check authentication");
        super.handle(request);
    }
}

public class LoggingRequestHandler extends RequestHandler{
    //handle logic
}

public class PrintRequestHandler extends RequestHandler{
  //handle logic
}
```

- client code

```java
public class Client {
    private RequestHandler requestHandler;

    public Client(RequestHandler requestHandler) {
        this.requestHandler = requestHandler;
    }

    public void doWork(){
        Request request = new Request("Hello request");
        requestHandler.handle(request); //client does not know what the handler will do
    }

    public static void main(String[] args) {
        //create chain of handlers
        RequestHandler chain = new AuthRequestHandler(new LoggingRequestHandler(new PrintRequestHandler(null)));
        Client client = new Client(chain);
        client.doWork();
    }
}

```

- result

```
Check authentication
Logging
Hello request

AuthRequestHandler ğŸ‘‰ğŸ» LoggingRequestHandler ğŸ‘‰ğŸ» PrintRequestHandler
```

## ğŸ‘€ Simple example

- logger class

```java
//step 1. Logger class(handler)
abstract class Logger {
    protected int level;
    protected Logger nextLogger;

    public void setNextLogger(Logger nextLogger){
        this.nextLogger = nextLogger;
    }

    public void logMessage(int level, String message){
    }

    protected abstract void write(String message);
}

//step 2. concrete handlers
class ConsoleLogger extends Logger {
}
class ErrorLogger extends Logger {
}
```

```java
//step 3. create the chain
public class Main {
    public static void main(String[] args) {

        Logger errorLogger = new ErrorLogger(Logger.ERROR);
        Logger consoleLogger = new ConsoleLogger(Logger.INFO);

        errorLogger.setNextLogger(consoleLogger);

        errorLogger.logMessage(Logger.INFO, "This is an info message.");
        errorLogger.logMessage(Logger.ERROR, "This is an error message.");
    }
}
```

- client sends reqeust to `errorLogger`
- `errorLogger` calls `consoleLogger`

## ğŸ› ï¸

- ğŸ‘€ **servlet filter**
- `@WebFilter`ë¥¼ ì¶”ê°€í•˜ì—¬ `/hello` controllerì— ë“¤ì–´ì˜¤ê¸° ì „ì— ë¯¸ë¦¬ servelet component scan filterë¥¼ ê±°ì¹˜ì„¸ìš”

```java
// "/hello" ì „ì— ì´ WebFilterë¥¼ ê±°ì³ë¼
@WebFilter(urlPatterns = "/hello")
public class MyFilter implements Filter{
  @Override
  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException{
    chain.doFilter(request, response);
  }
}
//controller code
@RestController
public class HelloController{
  @GetMapping("/hello")
  public String hello(){
    return "hello";
  }
}
```

- ğŸ‘€ **Security config**
- create filter chain
- to `http.autorizeRequest().anyRequest().permitAll().addFilter()...`

## âœ…

#### 1ï¸âƒ£

#### 2ï¸âƒ£

#### 3ï¸âƒ£

#### 4ï¸âƒ£

- 1ï¸âƒ£
- 2ï¸âƒ£
- 3ï¸âƒ£
- 4ï¸âƒ£
  ğŸ‘ğŸ»
  ğŸ‘ğŸ»

```
â­ï¸â­ï¸â­ï¸ EXAM â­ï¸â­ï¸â­ï¸
â“
ğŸ‘‰ğŸ»
```
